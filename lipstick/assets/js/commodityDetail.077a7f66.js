(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["commodityDetail"],{"0c39":function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userBox"},[a("x-header",{ref:"header",attrs:{solt:"header",title:"夺宝详情"}},[a("a",{attrs:{slot:"right"},on:{click:function(e){t.show3=!0}},slot:"right"},[t._v("规则")])]),t._v(" "),a("div",{staticClass:"panel"},[a("div",{staticClass:"coverImg"},[a("img",{attrs:{src:t.url+t.commodity.cover_img,width:"100%"}})]),t._v(" "),a("div",{staticClass:"countDown"},[a("span",[t._v(t._s(1==t.commodity.type_id?"距离开始":2==t.commodity.type_id?"距离结束":"夺宝已结束,等待结果"))]),t._v(" "),1==t.commodity.type_id||2==t.commodity.type_id?a("span",[a("b",[t._v(t._s(t.time.a))]),t._v(" 天"),a("b",[t._v(t._s(t.time.b))]),t._v(" 时 "),a("b",[t._v(t._s(t.time.c))]),t._v(" 分 "),a("b",[t._v(t._s(t.time.d))]),t._v(" 秒")]):t._e()]),t._v(" "),a("div",{staticClass:"info"},[a("span",[t._v(t._s(t.commodity.name))]),t._v(" "),a("span",{on:{click:function(e){t.show=!0}}},[t._v("分享")])]),t._v(" "),a("div",{staticClass:"details"},[a("span",[t._v("参与人数："+t._s(t.commodity.popular)+" 人")]),t._v(" "),a("span",[t._v("参与价格："+t._s(t.commodity.price)+" 元")]),t._v(" "),a("span",[t._v("状态："+t._s(t.type))])]),t._v(" "),a("div",{staticClass:"step"},[a("step",{attrs:{"background-color":"#fff",gutter:"20px"},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("step-item",{attrs:{title:"开始夺宝"}}),t._v(" "),a("step-item",{attrs:{title:"待开奖"}}),t._v(" "),a("step-item",{attrs:{title:"开奖"}})],1)],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"img"},t._l(t.imgList,function(t,e){return a("img",{attrs:{src:t,width:"100%"}})}),0),t._v(" "),a("div",{staticClass:"buttonGroup"},[a("x-button",{staticClass:"button",attrs:{disabled:2!=t.commodity.type_id,gradients:["#FF16A4","#FF16A4"]},nativeOn:{click:function(e){return t.join(e)}}},[t._v(t._s(t.commodity.type))])],1),t._v(" "),a("popup",{attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",[a("div",{staticStyle:{padding:"1rem 4rem"}},[a("divider",[t._v("分享到")])],1),t._v(" "),a("div",{staticClass:"invite"},[a("div",{staticClass:"wechat"},[a("img",{staticStyle:{"margin-bottom":"0.5rem"},attrs:{src:t.wechat,width:"100%"},on:{click:t.wechatShare}}),t._v(" 微信\r\n          ")]),t._v(" "),a("div",{staticClass:"friend"},[a("img",{staticStyle:{"margin-bottom":"0.5rem"},attrs:{src:t.friend,width:"100%"},on:{click:t.circleShare}}),t._v(" 朋友圈\r\n          ")])])])]),t._v(" "),a("popup",{attrs:{position:"bottom"},model:{value:t.show2,callback:function(e){t.show2=e},expression:"show2"}},[a("div",{staticClass:"pay"},[a("div",{},[t._v("\r\n          参与价格:"),a("span",{staticClass:"lip"},[t._v(t._s(t.commodity.price)+" 元")])]),t._v(" "),a("div",{staticClass:"flexBox"},[a("x-button",{staticClass:"button",nativeOn:{click:function(e){t.show2=!1}}},[t._v("取 消")]),t._v(" "),a("x-button",{staticClass:"button",nativeOn:{click:function(e){return t.submit(e)}}},[t._v("支 付")])],1)])]),t._v(" "),a("popup",{attrs:{position:"bottom","should-scroll-top-on-show":""},model:{value:t.show3,callback:function(e){t.show3=e},expression:"show3"}},[a("group",t._l(15,function(t){return a("cell",{key:t,attrs:{title:"夺宝详情规则"+t}})}),1),t._v(" "),a("div",{staticStyle:{padding:"15px"}},[a("x-button",{attrs:{plain:"",type:"primary"},nativeOn:{click:function(e){t.show3=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("toast",{attrs:{width:"20rem",type:"text"},model:{value:t.toast,callback:function(e){t.toast=e},expression:"toast"}},[t._v(t._s(t.toastText))])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rule"},[t._v("\r\n      夺宝规则"),a("br"),t._v("1. 所有产品都是随机靠运气抽取，所有产品可支持专柜验货"),a("br"),t._v("2. 一个星期内可收到货\r\n    ")])}]},3305:function(t,e,a){e=t.exports=a("690e")(!1),e.push([t.i,"\n.userBox[data-v-77a3fae5] {\n  background: #f7f7f7;\n}\n.userBox .panel[data-v-77a3fae5] {\n  padding: 10px 0;\n  background: white;\n}\n.userBox .panel .coverImg img[data-v-77a3fae5] {\n  width: 10rem;\n}\n.userBox .panel .info[data-v-77a3fae5] {\n  padding: 0 1rem;\n}\n.userBox .panel .info span[data-v-77a3fae5]:first-of-type {\n  padding: 5px;\n  border-radius: 5px;\n  float: left;\n  margin-right: 1rem;\n}\n.userBox .panel .info span[data-v-77a3fae5]:last-of-type {\n  background: #F1F1F1;\n  color: #999999;\n  font-size: 14px;\n  padding: 5px 10px;\n  border-radius: 30px;\n  float: right;\n}\n.userBox .panel .info[data-v-77a3fae5]:after {\n  content: '';\n  display: block;\n  clear: both;\n}\n.userBox .panel .countDown[data-v-77a3fae5] {\n  background: #FF16A4;\n  color: white;\n  padding: 10px 0;\n  margin-bottom: 1rem;\n}\n.userBox .panel .countDown span[data-v-77a3fae5] {\n  margin-right: 1rem;\n}\n.userBox .panel .countDown b[data-v-77a3fae5] {\n  background: #FF79CB;\n  border-radius: 4px;\n  padding: 4px;\n}\n.userBox .panel .details[data-v-77a3fae5] {\n  padding: 0 1rem;\n  margin: 1rem 0;\n}\n.userBox .panel .details span[data-v-77a3fae5] {\n  font-size: 12px;\n}\n.userBox .panel .details span[data-v-77a3fae5]:first-of-type {\n  background: #fbf6ea;\n  color: #CFA33A;\n  padding: 5px;\n  border-radius: 5px;\n  float: left;\n}\n.userBox .panel .details span[data-v-77a3fae5]:n {\n  margin-right: 1rem;\n}\n.userBox .panel .details span[data-v-77a3fae5] {\n  background: #eaf1fb;\n  color: #5A95E8;\n  padding: 5px;\n  border-radius: 5px;\n  float: left;\n  margin-right: 0.5rem;\n}\n.userBox .panel .details[data-v-77a3fae5]:after {\n  content: '';\n  display: block;\n  clear: both;\n}\n.userBox .panel .step[data-v-77a3fae5] {\n  margin: 1rem auto;\n  text-align: left;\n  width: 90%;\n}\n.userBox .panel .step .vux-step-item-with-tail[data-v-77a3fae5] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.userBox .panel .step .vux-step-item-with-tail[data-v-77a3fae5] .vux-step-item-main {\n  margin-left: 5px;\n}\n.userBox .panel .rule[data-v-77a3fae5] {\n  font-size: 12px;\n  text-align: left;\n  padding: 1rem;\n  color: #A08194;\n  background: #F7E4EF;\n}\n.userBox .panel .buttonGroup[data-v-77a3fae5] {\n  position: fixed;\n  width: 100%;\n  bottom: 0;\n  padding: 1rem 0;\n  background: white;\n}\n.userBox .panel .buttonGroup .button[data-v-77a3fae5] {\n  width: 90%;\n}\n.userBox .panel .pay[data-v-77a3fae5] {\n  padding: 4rem 0 0;\n}\n.userBox .panel .pay .flexBox[data-v-77a3fae5] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  margin-top: 2rem;\n  border-top: 1px solid #ccc;\n}\n.userBox .panel .pay .button[data-v-77a3fae5] {\n  background: transparent;\n  border: 0 solid transparent;\n}\n.userBox .panel .pay .weui-btn[data-v-77a3fae5]:after {\n  border: 1px solid rgba(0, 0, 0, 0);\n}\n.userBox .panel .pay span[data-v-77a3fae5] {\n  font-size: 20px;\n}\n.userBox .panel .vux-popup-dialog[data-v-77a3fae5] {\n  background: white;\n}\n.userBox .panel .vux-popup-dialog .invite[data-v-77a3fae5] {\n  height: 6rem;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n  padding: 1rem;\n}\n.userBox .panel .vux-popup-dialog .invite .friend[data-v-77a3fae5],\n.userBox .panel .vux-popup-dialog .invite .wechat[data-v-77a3fae5] {\n  width: 4rem;\n  height: 4rem;\n}\n[data-v-77a3fae5] .vux-step-item-head-process .vux-step-item-head-inner {\n  border: 1px solid #FF16A4;\n  color: #FFF;\n  background: #FF16A4;\n}\n.weui-btn + .weui-btn[data-v-77a3fae5] {\n  margin-top: 0;\n}\n",""])},"4e12":function(t,e,a){"use strict";var n=a("76ea"),i=a("8506");i(e,"__esModule",{value:!0}),e.default=void 0,a("612f");var o=n(a("3f47")),s=n(a("b89d")),r=n(a("6b51")),d=n(a("1c06")),l=n(a("bde3")),u=n(a("faa1")),c=n(a("beb6")),p=n(a("f27c")),f=n(a("401d")),m=n(a("9744")),v=n(a("b942")),h=n(a("65b2")),b=n(a("39a4")),x=n(a("933c")),g=a("c276"),y=a("52c1"),_=a("c24f"),w=n(a("bdf5")),k={data:function(){var t;return t={id:null,swiper:0,time:(new Date).toLocaleDateString(),img:a("50be"),details:a("54ba"),wechat:a("0cf5"),friend:a("6dd9"),step:0,show:!1,show2:!1,show3:!1,toast:!1,toastText:"",num:1,commodity:{},type:"",imgList:[]},(0,s.default)(t,"time",{a:"",b:"",c:"",d:""}),(0,s.default)(t,"timer",null),t},computed:(0,o.default)({},(0,y.mapGetters)(["username","telphone","token","url"])),components:{XHeader:r.default,Commodity:w.default,Step:d.default,StepItem:l.default,XButton:u.default,Actionsheet:c.default,Popup:p.default,Divider:f.default,Group:m.default,Cell:v.default,Flexbox:h.default,FlexboxItem:b.default,Toast:x.default},methods:{init:function(t){var e=this;(0,_.TreasureDetail)(this.token,t).then(function(t){var a=(0,g.checkRequest)(t,!1);e.commodity=a,e.commodity.detail_img.forEach(function(t){e.imgList.push(e.url+t)}),1==a.type_id?(e.type="未开始",e.timeFun(e.commodity.end)):2==a.type_id?(e.type="进行中",e.timeFun(e.commodity.end)):3==a.type_id?e.type="待开奖":e.type="已结束",console.log(e.type)})},link:function(){this.$router.push("commodityDetail")},timeFun:function(t){var e=this;this.timer=setInterval(function(){var a=Date.parse(new Date),n=Date.parse(t)-a,i=new Date(n).getDay(),o=new Date(n).getHours(),s=new Date(n).getMinutes(),r=new Date(n).getSeconds();e.time.a=i,e.time.b=o,e.time.c=s,e.time.d=r},1e3)},wechatShare:function(){alert("微信")},circleShare:function(){alert("朋友圈")},join:function(){1==this.commodity.is_join?(this.toast=!0,this.toastText="您已参与过该活动!"):this.show2=!0},submit:function(){var t=this;this.token?(0,_.TreasureJoin)(this.token,this.id).then(function(e){var a=(0,g.checkRequest)(e,!1);a?(t.toast=!0,t.toastText="参与成功!"):(t.toast=!0,t.toastText="余额不足,请先充值!"),console.log((0,g.checkRequest)(e,!1))}):this.$router.push("login")}},mounted:function(){console.log(this.$route.query.id),this.id=this.$route.query.id,this.init(this.id)},beforeDestroy:function(){this.timer&&clearInterval(this.timer)}};e.default=k},"6a12":function(t,e,a){"use strict";var n=a("76ea"),i=a("8506");i(e,"__esModule",{value:!0}),e.default=void 0,a("612f");var o=n(a("3f47")),s=n(a("b89d")),r=n(a("6b51")),d=n(a("1c06")),l=n(a("bde3")),u=n(a("faa1")),c=n(a("beb6")),p=n(a("f27c")),f=n(a("401d")),m=n(a("9744")),v=n(a("b942")),h=n(a("65b2")),b=n(a("39a4")),x=n(a("933c")),g=a("c276"),y=a("52c1"),_=a("c24f"),w=n(a("bdf5")),k={data:function(){var t;return t={id:null,swiper:0,time:(new Date).toLocaleDateString(),img:a("50be"),details:a("54ba"),wechat:a("0cf5"),friend:a("6dd9"),step:0,show:!1,show2:!1,show3:!1,toast:!1,toastText:"",num:1,commodity:{},type:"",imgList:[]},(0,s.default)(t,"time",{a:"",b:"",c:"",d:""}),(0,s.default)(t,"timer",null),t},computed:(0,o.default)({},(0,y.mapGetters)(["username","telphone","token","url"])),components:{XHeader:r.default,Commodity:w.default,Step:d.default,StepItem:l.default,XButton:u.default,Actionsheet:c.default,Popup:p.default,Divider:f.default,Group:m.default,Cell:v.default,Flexbox:h.default,FlexboxItem:b.default,Toast:x.default},methods:{init:function(t){var e=this;(0,_.TreasureDetail)(this.token,t).then(function(t){var a=(0,g.checkRequest)(t,!1);e.commodity=a,e.commodity.detail_img.forEach(function(t){e.imgList.push(e.url+t)}),1==a.type_id?(e.type="未开始",e.timeFun(e.commodity.end)):2==a.type_id?(e.type="进行中",e.timeFun(e.commodity.end)):3==a.type_id?e.type="待开奖":e.type="已结束",console.log(e.type)})},link:function(){this.$router.push("commodityDetail")},timeFun:function(t){var e=this;this.timer=setInterval(function(){var a=Date.parse(new Date),n=Date.parse(t)-a,i=new Date(n).getDay(),o=new Date(n).getHours(),s=new Date(n).getMinutes(),r=new Date(n).getSeconds();e.time.a=i,e.time.b=o,e.time.c=s,e.time.d=r},1e3)},wechatShare:function(){alert("微信")},circleShare:function(){alert("朋友圈")},join:function(){1==this.commodity.is_join?(this.toast=!0,this.toastText="您已参与过该活动!"):this.show2=!0},submit:function(){var t=this;this.token?(0,_.TreasureJoin)(this.token,this.id).then(function(e){var a=(0,g.checkRequest)(e,!1);a?(t.toast=!0,t.toastText="参与成功!"):(t.toast=!0,t.toastText="余额不足,请先充值!"),console.log((0,g.checkRequest)(e,!1))}):this.$router.push("login")}},mounted:function(){console.log(this.$route.query.id),this.id=this.$route.query.id,this.init(this.id)},beforeDestroy:function(){this.timer&&clearInterval(this.timer)}};e.default=k},"6b29":function(t,e,a){var n=a("3305");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("85cb").default;i("17cb7003",n,!0,{})},b0c6:function(t,e,a){"use strict";a.r(e);var n=a("6a12");for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);var o=a("4e12"),s=a.n(o),r=a("0c39"),d=a("d082");function l(t){a("6b29")}var u=!1,c=l,p="data-v-77a3fae5",f=null,m=Object(d["a"])(s.a,r["a"],r["b"],u,c,p,f);e["default"]=m.exports}}]);
//# sourceMappingURL=commodityDetail.077a7f66.js.map